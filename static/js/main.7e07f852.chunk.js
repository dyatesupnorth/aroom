(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),i=(a(60),a(61),a(26)),s=a.n(i),o=(a(62),a(14)),m=function(e,t){var a=t.text,n=t.starRating,r=t.facilities;return e.filter(function(e){var t=e.name.toLowerCase().includes(a.toLowerCase()),c=!n||e.starRating>=n,l=!(r&&r.length>0)||r.every(function(t){return e.facilities.includes(t)});return t&&c&&l})},u=a(18),f=a.n(u),h=a(49),d=a(50),E=function(e){return r.a.createElement(f.a.Item,{className:"list-group-item-action flex-column align-items-start"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},e.name)),r.a.createElement("p",{className:"mb-1"},function(e){console.log("\u200bnoOfStars",e);for(var t=[],a=0;a<e;a++)console.log("\u200bi",a),t.push(r.a.createElement(h.a,{icon:d.a}));return console.log("\u200bstars",t),t}(e.starRating)),r.a.createElement("small",null,e.facilities&&0!==e.facilities.length?r.a.createElement("span",null,r.a.createElement("ul",{className:"list-inline"},e.facilities.map(function(e){return r.a.createElement("li",{className:"list-inline-item",key:e},e)}))):""))},p=a(51),g=a.n(p),v=Object(o.b)(function(e){return{hotels:m(e.hotels,e.filters)}},void 0)(function(e){return r.a.createElement(g.a,null,r.a.createElement(f.a,{variant:"flush"},0===e.hotels.length?r.a.createElement("p",null,"No hotels"):e.hotels.map(function(e){return r.a.createElement(E,Object.assign({key:e.name},e))})))}),b=a(19),N=a(20),y=a(22),T=a(21),O=a(23),R=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).onTextChange=function(e){a.props.setTextFilter(e.target.value)},a.onStarRatingChange=function(e){a.props.setStarRatingFilter(e.target.value)},a.onFacilitiesChange=function(e,t){a.props.setFacilitiesFilter(e.target.value)},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"renderRadioButtons",value:function(e){for(var t=[],a=0;a<e;a++)t.push(r.a.createElement("label",{key:a,className:"form-check"},r.a.createElement("input",{type:"radio",value:a+1,name:"starRating",className:"form-check-input",onChange:this.onStarRatingChange}),r.a.createElement("span",{className:"form-check-label"},a+1)));return t}},{key:"renderCheckBoxes",value:function(){var e=this;return this.props.availableFacilities.map(function(t,a){return r.a.createElement("label",{key:a,className:"form-check"},r.a.createElement("input",{name:t,value:t,type:"checkbox",className:"form-check-input",onChange:e.onFacilitiesChange}),r.a.createElement("span",{className:"form-check-label"},t))})}},{key:"render",value:function(){return this.props.filters&&r.a.createElement("div",{className:"card"},r.a.createElement("article",{className:"card-group-item"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h6",{className:"title"},"Search by name")),r.a.createElement("div",{className:"filter-content"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{class:"form-group "},r.a.createElement("label",null,"Name"),r.a.createElement("input",{className:"form-control",name:"text",type:"text",value:this.props.filters.text,onChange:this.onTextChange})," ")))),r.a.createElement("article",{className:"card-group-item"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h6",{className:"title"},"Facilities ")),r.a.createElement("div",{className:"filter-content"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,this.renderCheckBoxes())))),r.a.createElement("article",{className:"card-group-item"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h6",{className:"title"},"Minimum star Rating ")),r.a.createElement("div",{className:"filter-content"},r.a.createElement("div",{className:"card-body"},this.renderRadioButtons(5)))))}}]),t}(n.Component),k=Object(o.b)(function(e){return console.log("\u200bstate",e),{filters:e.filters,availableFacilities:e.hotels.reduce(function(e,t){return[].push.apply(e,t.facilities.filter(function(t){return-1===e.indexOf(t)})),e},[])}},function(e){return{setTextFilter:function(t){return e(function(){return{type:"SET_TEXT_FILTER",text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}(t))},setStarRatingFilter:function(t){return e(function(){return{type:"SET_STAR_RATING_FILTER",starRating:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}(t))},setFacilitiesFilter:function(t){return e(function(){return{type:"SET_FACILITIES_FILTER",facility:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}(t))}}})(R),w=a(31),S=a.n(w),_=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,{bg:"dark",expand:"lg"},r.a.createElement(S.a.Brand,{href:"#home"},r.a.createElement("img",{src:s.a,width:"100",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})," "))}}]),t}(n.Component);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement("div",{className:"container pt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement(k,null)),r.a.createElement("div",{className:"col-md-8 col-sm-12"},r.a.createElement(v,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(9),F=a(52),C=[],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOTELS":return t.hotels;default:return e}},L=a(54),B=a(15),A={text:"",starRating:"",facilities:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(console.log("\u200bstate",e),console.log("\u200baction",t),t.type){case"SET_TEXT_FILTER":return Object(B.a)({},e,{text:t.text});case"SET_STAR_RATING_FILTER":return Object(B.a)({},e,{starRating:t.starRating});case"SET_FACILITIES_FILTER":return-1!==e.facilities.indexOf(t.facility)?Object(B.a)({},e,{facilities:e.facilities.filter(function(e){return e!==t.facility})}):Object(B.a)({},e,{facilities:[].concat(Object(L.a)(e.facilities),[t.facility])});default:return e}},D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,G=a(53),H=a.n(G),J=!1,M=Object(x.e)(Object(x.c)({hotels:I,filters:X}),D(Object(x.a)(F.a))),W=r.a.createElement(o.a,{store:M},r.a.createElement(j,null));l.a.render(r.a.createElement("h1",null,"Loading.."),document.getElementById("root")),M.dispatch(function(e){return H.a.get("http://localhost:3001/hotels").then(function(t){return e({type:"SET_HOTELS",hotels:t.data})})}).then(function(){J||(l.a.render(W,document.getElementById("root")),J=!0)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},26:function(e,t,a){e.exports=a.p+"static/media/logo.090b2dc9.png"},55:function(e,t,a){e.exports=a(114)},61:function(e,t,a){},62:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.7e07f852.chunk.js.map